(()=>{var e={};e.id=457,e.ids=[457],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},55511:e=>{"use strict";e.exports=require("crypto")},29021:e=>{"use strict";e.exports=require("fs")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},79551:e=>{"use strict";e.exports=require("url")},74075:e=>{"use strict";e.exports=require("zlib")},77598:e=>{"use strict";e.exports=require("node:crypto")},73024:e=>{"use strict";e.exports=require("node:fs")},76760:e=>{"use strict";e.exports=require("node:path")},20501:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>f,pages:()=>c,routeModule:()=>m,tree:()=>d});var s=r(70260),a=r(28203),n=r(25155),o=r.n(n),i=r(67292),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let d=["",{children:["snippets",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,90226)),"/home/neha/refactor-realm/src/app/snippets/[id]/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,7752)),"/home/neha/refactor-realm/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/home/neha/refactor-realm/src/app/snippets/[id]/page.tsx"],f={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/snippets/[id]/page",pathname:"/snippets/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},13725:(e,t,r)=>{Promise.resolve().then(r.bind(r,90226))},83869:(e,t,r)=>{Promise.resolve().then(r.bind(r,9073))},49656:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(41680).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},24203:(e,t,r)=>{"use strict";r.d(t,{CJ:()=>s,LE:()=>o,zG:()=>a});let s={javascript:{id:"javascript",label:"JavaScript",logo:"/javascript-logo.svg",logoPath:"/javascript-logo.svg",pistonRuntime:{language:"javascript",version:"latest"},monakoLanguage:"javascript",defaultCode:"// Write your JavaScript code here\n\nconsole.log('Hello, World!');",monacoLanguage:void 0},python:{id:"python",label:"Python",logo:"/python-logo.svg",logoPath:"/python-logo.svg",pistonRuntime:{language:"python",version:"latest"},monakoLanguage:"python",defaultCode:"# Write your Python code here\n\nprint('Hello, World!')",monacoLanguage:void 0},typescript:{id:"typescript",label:"TypeScript",logo:"/typescript-logo.svg",logoPath:"/typescript-logo.svg",pistonRuntime:{language:"typescript",version:"latest"},monakoLanguage:"typescript",defaultCode:"// Write your TypeScript code here\n\nconst greeting: string = 'Hello, World!';\nconsole.log(greeting);",monacoLanguage:void 0}},a=[{id:"vs-dark",label:"VS Dark",color:"#1e1e1e"},{id:"vs-light",label:"VS Light",color:"#ffffff"},{id:"github-dark",label:"GitHub Dark",color:"#0d1117"},{id:"monokai",label:"Monokai",color:"#272822"},{id:"solarized-dark",label:"Solarized Dark",color:"#002b36"}],n={"github-dark":{base:"vs-dark",inherit:!0,rules:[{token:"comment",foreground:"6e7681",fontStyle:"italic"},{token:"string",foreground:"a5d6ff"},{token:"keyword",foreground:"ff7b72",fontStyle:"bold"},{token:"number",foreground:"79c0ff"},{token:"type",foreground:"ffa657"},{token:"class",foreground:"ffa657"},{token:"function",foreground:"d2a8ff"},{token:"variable",foreground:"ffa657"},{token:"operator",foreground:"ff7b72"}],colors:{"editor.background":"#0d1117","editor.foreground":"#c9d1d9","editor.lineHighlightBackground":"#161b22","editorLineNumber.foreground":"#6e7681","editorIndentGuide.background":"#21262d","editor.selectionBackground":"#264f78","editor.inactiveSelectionBackground":"#264f7855"}},monokai:{base:"vs-dark",inherit:!0,rules:[{token:"comment",foreground:"75715E",fontStyle:"italic"},{token:"string",foreground:"E6DB74"},{token:"keyword",foreground:"F92672",fontStyle:"bold"},{token:"number",foreground:"AE81FF"},{token:"type",foreground:"66D9EF"},{token:"class",foreground:"A6E22E"},{token:"function",foreground:"A6E22E"},{token:"variable",foreground:"F8F8F2"},{token:"operator",foreground:"F92672"}],colors:{"editor.background":"#272822","editor.foreground":"#F8F8F2","editorLineNumber.foreground":"#75715E","editor.selectionBackground":"#49483E","editor.lineHighlightBackground":"#3E3D32","editorCursor.foreground":"#F8F8F2","editor.selectionHighlightBackground":"#49483E"}},"solarized-dark":{base:"vs-dark",inherit:!0,rules:[{token:"comment",foreground:"586e75",fontStyle:"italic"},{token:"string",foreground:"2aa198"},{token:"keyword",foreground:"859900",fontStyle:"bold"},{token:"number",foreground:"d33682"},{token:"type",foreground:"b58900"},{token:"class",foreground:"b58900"},{token:"function",foreground:"268bd2"},{token:"variable",foreground:"b58900"},{token:"operator",foreground:"859900"}],colors:{"editor.background":"#002b36","editor.foreground":"#839496","editorLineNumber.foreground":"#586e75","editor.selectionBackground":"#073642","editor.lineHighlightBackground":"#073642","editorCursor.foreground":"#839496","editor.selectionHighlightBackground":"#073642"}}},o=e=>{Object.entries(n).forEach(([t,r])=>{try{e.defineTheme(t,{base:r.base,inherit:r.inherit,rules:r.rules.map(e=>({token:e.token,foreground:e.foreground,background:e.background,fontStyle:e.fontStyle})),colors:r.colors})}catch(e){console.error(`Error defining theme ${t}:`,e)}})}},9073:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>L});var s=r(45512),a=r(1799),n=r(79334),o=r(41692),i=r(47e3);let l=function(){return(0,s.jsxs)("div",{className:"min-h-screen bg-[#0a0a0f]",children:[(0,s.jsx)(i.A,{}),(0,s.jsx)("main",{className:"max-w-[90rem] mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 lg:py-12",children:(0,s.jsxs)("div",{className:"max-w-[1200px] mx-auto",children:[(0,s.jsxs)("div",{className:"bg-[#121218] border border-[#ffffff0a] rounded-2xl p-6 sm:p-8 mb-6 backdrop-blur-xl",children:[(0,s.jsx)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"flex items-center justify-center size-12 rounded-xl bg-[#ffffff08] animate-pulse"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"h-8 w-48 bg-[#ffffff08] rounded-lg animate-pulse mb-2"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("div",{className:"h-5 w-24 bg-[#ffffff08] rounded animate-pulse"}),(0,s.jsx)("div",{className:"h-5 w-24 bg-[#ffffff08] rounded animate-pulse"})]})]})]})}),(0,s.jsx)("div",{className:"h-[400px] bg-[#ffffff08] rounded-xl animate-pulse"})]}),(0,s.jsxs)("div",{className:"bg-[#121218] border border-[#ffffff0a] rounded-2xl p-6 sm:p-8 backdrop-blur-xl",children:[(0,s.jsx)("div",{className:"h-6 w-32 bg-[#ffffff08] rounded animate-pulse mb-6"}),(0,s.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("div",{className:"h-10 w-10 rounded-full bg-[#ffffff08] animate-pulse"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"h-4 w-32 bg-[#ffffff08] rounded animate-pulse mb-2"}),(0,s.jsx)("div",{className:"h-16 bg-[#ffffff08] rounded animate-pulse"})]})]},e))})]})]})})]})};var d=r(87798),c=r(4643),f=r(41680);let m=(0,f.A)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);var u=r(80320),p=r(26980),x=r(24203);let g=(0,f.A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var h=r(12592),b=r(58009);let v=function({code:e}){let[t,r]=(0,b.useState)(!1),a=async()=>{await navigator.clipboard.writeText(e),r(!0),setTimeout(()=>r(!1),2e3)};return(0,s.jsx)("button",{onClick:a,type:"button",className:"p-2 hover:bg-white/10 rounded-lg transition-all duration-200 group relative",children:t?(0,s.jsx)(g,{className:"size-4 text-green-400"}):(0,s.jsx)(h.A,{className:" size-4 text-gray-400 group-hover:text-gray-300"})})};var j=r(38766),y=r(22403),k=r(49656),N=r(46771),w=r(56051),S=r(45103);let C=({language:e,code:t})=>{let r=t.split("\n").map(e=>e.trimEnd()).join("\n");return(0,s.jsxs)("div",{className:"my-4 bg-[#0a0a0f] rounded-lg overflow-hidden border border-[#ffffff0a]",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between px-4 py-2 bg-[#ffffff08]",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(S.default,{src:`/${e}.png`,alt:e,className:"size-4 object-contain"}),(0,s.jsx)("span",{className:"text-sm text-gray-400",children:e||"plaintext"})]}),(0,s.jsx)(v,{code:r})]}),(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)(N.A,{language:e||"plaintext",style:w.A,customStyle:{padding:"1rem",background:"transparent",margin:0},showLineNumbers:!0,wrapLines:!0,children:r})})]})},A=function({content:e}){let t=e.split(/(```[\w-]*\n[\s\S]*?\n```)/g);return(0,s.jsx)("div",{className:"max-w-none text-white",children:t.map((e,t)=>{if(e.startsWith("```")){let r=e.match(/```([\w-]*)\n([\s\S]*?)\n```/);if(r){let[,e,a]=r;return(0,s.jsx)(C,{language:e,code:a},t)}}return e.split("\n").map((e,t)=>(0,s.jsx)("p",{className:"mb-4 text-gray-300 last:mb-0",children:e},t))})})},E=function({comment:e,currentUserId:t,isDeleting:r,onDelete:a}){return(0,s.jsx)("div",{className:"group",children:(0,s.jsxs)("div",{className:"bg-[#0a0a0f] rounded-xl p-6 border border-[#ffffff0a] hover:border-[#ffffff14] transition-all",children:[(0,s.jsxs)("div",{className:"flex items-start sm:items-center justify-between gap-4 mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-9 h-9 rounded-full bg-[#ffffff08] flex items-center justify-center flex-shrink-0",children:(0,s.jsx)(d.A,{className:"w-4 h-4 text-[#808086]"})}),(0,s.jsxs)("div",{className:"min-w-0",children:[(0,s.jsx)("span",{className:"block text-[#e1e1e3] font-medium truncate",children:e.userName}),(0,s.jsx)("span",{className:"block text-sm text-[#808086]",children:new Date(e._creationTime).toLocaleDateString()})]})]}),e.userId===t&&(0,s.jsx)("button",{onClick:()=>a(e._id),disabled:r,className:"opacity-0 group-hover:opacity-100 p-2 hover:bg-red-500/10 rounded-lg transition-all",title:"Delete comment",children:(0,s.jsx)(k.A,{className:"w-4 h-4 text-pink-900"})})]}),(0,s.jsx)(A,{content:e.content})]})})},F=(0,f.A)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),P=function({isSubmitting:e,onSubmit:t}){let[r,a]=(0,b.useState)(""),[n,o]=(0,b.useState)(!1),i=async e=>{e.preventDefault(),r.trim()&&(await t(r),a(""),o(!1))};return(0,s.jsx)("form",{onSubmit:i,className:"mb-8",children:(0,s.jsxs)("div",{className:"bg-[#0a0a0f] rounded-xl border border-[#ffffff0a] overflow-hidden",children:[(0,s.jsx)("div",{className:"flex justify-end gap-2 px-4 pt-2",children:(0,s.jsx)("button",{type:"button",onClick:()=>o(!n),className:`text-sm px-3 py-1 rounded-md transition-colors ${n?"bg-blue-500/10 text-blue-400":"hover:bg-[#ffffff08] text-gray-400"}`,children:n?"Edit":"Preview"})}),n?(0,s.jsx)("div",{className:"min-h-[120px] p-4 text-[#e1e1e3",children:(0,s.jsx)(A,{content:r})}):(0,s.jsx)("textarea",{value:r,onChange:e=>a(e.target.value),onKeyDown:e=>{if("Tab"===e.key){e.preventDefault();let t=e.currentTarget.selectionStart,s=e.currentTarget.selectionEnd;a(r.substring(0,t)+"  "+r.substring(s)),e.currentTarget.selectionStart=e.currentTarget.selectionEnd=t+2}},placeholder:"Add to the discussion...",className:"w-full bg-transparent border-0 text-[#e1e1e3] placeholder:text-[#808086] outline-none  resize-none min-h-[120px] p-4 font-mono text-sm"}),(0,s.jsxs)("div",{className:"flex items-center justify-between gap-4 px-4 py-3 bg-[#080809] border-t border-[#ffffff0a]",children:[(0,s.jsxs)("div",{className:"hidden sm:block text-xs text-[#808086] space-y-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(u.A,{className:"w-3.5 h-3.5"}),(0,s.jsx)("span",{children:"Format code with ```language"})]}),(0,s.jsx)("div",{className:"text-[#808086]/60 pl-5",children:"Tab key inserts spaces • Preview your comment before posting"})]}),(0,s.jsx)("button",{type:"submit",disabled:e||!r.trim(),className:"flex items-center gap-2 px-4 py-2 bg-[#3b82f6] text-white rounded-lg hover:bg-[#2563eb] disabled:opacity-50 disabled:cursor-not-allowed transition-all ml-auto",children:e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-4 h-4 border-2 border-white/30  border-t-white rounded-full animate-spin"}),(0,s.jsx)("span",{children:"Posting..."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(F,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Comment"})]})})]})]})})},_=function({snippetId:e}){let{user:t}=(0,j.Jd)(),[r,n]=(0,b.useState)(!1),[i,l]=(0,b.useState)(null),d=(0,a.IT)(o.F.snippets.getComments,{snippetId:e})||[],c=(0,a.n_)(o.F.snippets.addComment),f=(0,a.n_)(o.F.snippets.deleteComment),u=async t=>{n(!0);try{await c({snippetId:e,content:t})}catch(e){console.log("Error adding comment:",e),y.Ay.error("Something went wrong")}finally{n(!1)}},p=async e=>{l(e);try{await f({commentId:e})}catch(e){console.log("Error deleting comment:",e),y.Ay.error("Something went wrong")}finally{l(null)}};return(0,s.jsxs)("div",{className:"bg-[#121218] border border-[#ffffff0a] rounded-2xl overflow-hidden",children:[(0,s.jsx)("div",{className:"px-6 sm:px-8 py-6 border-b border-[#ffffff0a]",children:(0,s.jsxs)("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[(0,s.jsx)(m,{className:"w-5 h-5"}),"Discussion (",d.length,")"]})}),(0,s.jsxs)("div",{className:"p-6 sm:p-8",children:[t?(0,s.jsx)(P,{onSubmit:u,isSubmitting:r}):(0,s.jsxs)("div",{className:"bg-[#0a0a0f] rounded-xl p-6 text-center mb-8 border border-[#ffffff0a]",children:[(0,s.jsx)("p",{className:"text-[#808086] mb-4",children:"Sign in to join the discussion"}),(0,s.jsx)(j.hZ,{mode:"modal",children:(0,s.jsx)("button",{className:"px-6 py-2 bg-[#3b82f6] text-white rounded-lg hover:bg-[#2563eb] transition-colors",children:"Sign In"})})]}),(0,s.jsx)("div",{className:"space-y-6",children:d.map(e=>(0,s.jsx)(E,{comment:e,onDelete:p,isDeleting:i===e._id,currentUserId:t?.id},e._id))})]})]})},L=function(){let e=(0,n.useParams)().id,t=(0,a.IT)(o.F.snippets.getSnippetById,{snippetId:e}),r=(0,a.IT)(o.F.snippets.getComments,{snippetId:e});return void 0===t?(0,s.jsx)(l,{}):(0,s.jsxs)("div",{className:"min-h-screen bg-[#0a0a0f]",children:[(0,s.jsx)(i.A,{}),(0,s.jsx)("main",{className:"max-w-[90rem] mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 lg:py-12",children:(0,s.jsxs)("div",{className:"max-w-[1200px] mx-auto",children:[(0,s.jsx)("div",{className:"bg-[#121218] border border-[#ffffff0a] rounded-2xl p-6 sm:p-8 mb-6 backdrop-blur-xl",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"flex items-center justify-center size-12 rounded-xl bg-[#ffffff08] p-2.5",children:(0,s.jsx)(S.default,{src:`/${t.language}.png`,alt:`${t.language} logo`,className:"w-full h-full object-contain"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-xl sm:text-2xl font-semibold text-white mb-2",children:t.title}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-2 text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-[#8b8b8d]",children:[(0,s.jsx)(d.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:t.userName})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-[#8b8b8d]",children:[(0,s.jsx)(c.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:new Date(t._creationTime).toLocaleDateString()})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-[#8b8b8d]",children:[(0,s.jsx)(m,{className:"w-4 h-4"}),(0,s.jsxs)("span",{children:[r?.length," comments"]})]})]})]})]}),(0,s.jsx)("div",{className:"inline-flex items-center px-3 py-1.5 bg-[#ffffff08] text-[#808086] rounded-lg text-sm font-medium",children:t.language})]})}),(0,s.jsxs)("div",{className:"mb-8 rounded-2xl overflow-hidden border border-[#ffffff0a] bg-[#121218]",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between px-4 sm:px-6 py-4 border-b border-[#ffffff0a]",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-[#808086]",children:[(0,s.jsx)(u.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{className:"text-sm font-medium",children:"Source Code"})]}),(0,s.jsx)(v,{code:t.code})]}),(0,s.jsx)(p.KE,{height:"600px",language:x.CJ[t.language].monacoLanguage,value:t.code,theme:"vs-dark",options:{minimap:{enabled:!1},fontSize:16,readOnly:!0,automaticLayout:!0,scrollBeyondLastLine:!1,padding:{top:16},renderWhitespace:"selection",fontFamily:'"Fira Code", "Cascadia Code", Consolas, monospace',fontLigatures:!0}})]}),(0,s.jsx)(_,{snippetId:t._id})]})})]})}},90226:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/neha/refactor-realm/src/app/snippets/[id]/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/neha/refactor-realm/src/app/snippets/[id]/page.tsx","default")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[680,874,526,968,180,821,166],()=>r(20501));module.exports=s})();